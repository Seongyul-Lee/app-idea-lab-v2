# 데일리셀프 (DailySelf) — PRD (Product Requirements Document)

> **문서 버전**: v2.0
> **작성일**: 2026-01-31
> **상태**: 채택 (Stage 3 재작성)
> **아이디어 문서**: `ideas/001-데일리셀프.md`
> **변경 이력**: v1.0(2026-01-30) → v2.0(2026-01-31) Stage 4 리뷰 보완 사항 전체 반영

---

## 1. Executive Summary

**데일리셀프**는 매일 아침 30초 컨디션 체크인(에너지, 수면, 기분)을 기반으로 오늘에 최적화된 루틴을 자동 제안하는 **적응형 일일 플래너** 앱이다.

기존 루틴 앱(루티너리, 챌린저스, 마이루틴 등)은 "매일 같은 계획"을 강요하지만, 한국 직장인의 현실은 야근(63%)·수면부족(자기계발 실패 2위 "피곤" 56.6%)·번아웃(69~93%)으로 에너지가 매일 다르다. 데일리셀프는 **"작심삼일은 의지력 문제가 아니라, 앱이 컨디션을 몰랐을 뿐"**이라는 관점에서, 컨디션에 따라 루틴 난이도를 자동 조절하여 **실패하지 않는 구조**를 제공한다. 이 "컨디션 적응형 루틴"은 주요 경쟁자 5개(루티너리, 챌린저스, 투두메이트, 마이루틴, 루빗) 모두에 없는 기능이다.

### 핵심 지표
| 항목 | 목표 |
|------|------|
| MVP 출시 | 3개월 이내 |
| 타겟 시장 | 한국 MZ세대 직장인/대학생 (SAM 710만 명) |
| 1년차 목표 사용자 | 5~10만 명 |
| 1년차 목표 매출 | 0.5~1.5억 원 |
| 수익 모델 | 프리미엄 구독 (월 3,900원 / 연 29,900원) |

---

## 2. Problem Statement

### 2-1. 핵심 문제

**"한국 직장인은 매일 다른 컨디션으로 살지만, 루틴 앱은 매일 같은 계획을 강요한다."**

### 2-2. 문제의 근거 (데이터 기반)

| 데이터 포인트 | 수치 | 출처 |
|-------------|------|------|
| 야근 경험 직장인 비율 | 63% | 잡코리아/인크루트 |
| 자기계발 실패 사유 1위 | "정시퇴근 어려움" 62.4% | 잡코리아 설문 |
| 자기계발 실패 사유 2위 | "피곤해서" 56.6% | 잡코리아 설문 |
| 번아웃 경험률 | 69~93% | 한국리서치/잡코리아 |
| 습관 앱 6개월 내 이탈률 | 48% | 업계 통계 |
| 루틴 보유 성인 비율 | 80% | 오픈서베이 |

### 2-3. 기존 솔루션의 한계

```
현재 시장의 접근 방식:
├── 고정 루틴 도구 (루티너리, 마이루틴)
│   └── 문제: 컨디션 무시 → 못 지키면 자책 → 이탈
├── 동기부여 도구 (챌린저스, 투두메이트)
│   └── 문제: 외적 동기만 제공 → 동기 소실 시 이탈
└── 감정 기록 도구 (하루콩, 루빗)
    └── 문제: 기록만 할 뿐, 행동과 연결하지 않음

→ 컨디션과 행동을 연결하는 앱은 시장에 부재
```

### 2-4. 사용자 시나리오 (Before/After)

**Before (기존 앱 사용)**
> 김대리(29세)는 오늘 야근 후 피곤하지만, 루티너리가 "21:00 운동 30분"을 알림. 체력이 없어 스킵 → 연속 달성 기록 끊김 → 자책 → 3일 후 앱 삭제

**After (데일리셀프 사용)**
> 김대리는 아침에 에너지 2/5, 수면 5시간, 기분 "피곤"을 30초 만에 체크인. 앱이 "오늘은 가볍게: 5분 스트레칭 + 따뜻한 차 한잔 + 10분 독서"를 제안. 가벼운 루틴이라 수행 → 달성감 → 다음 날도 체크인 지속

---

## 3. Target Users & Personas

### 페르소나 A: "야근 김대리" (핵심 타겟)
- 29세, 서울 IT기업 대리, 1인가구
- 주 2~3일 야근, 퇴근 시간 18:30~21:00 변동
- 루티너리 사용 3회 시도 후 포기 — "매일 같은 시간에 알림이 와서 현실과 안 맞음"
- 월 자기관리 지출 3~5만 원
- **핵심 니즈**: 컨디션에 맞는 유연한 루틴, 실패해도 자책하지 않는 구조

### 페르소나 B: "갓생 박사원생" (확장 타겟)
- 25세, 서울 대학원생
- 수업/연구/아르바이트로 스케줄 유동적
- 투두메이트 사용 중이나 소셜 의존도에 불만 — "친구가 안 하면 나도 안 하게 됨"
- 체계적 자기관리 시스템을 원함
- **핵심 니즈**: 스스로 관리할 수 있는 체계적 시스템, 데이터 기반 인사이트

### 페르소나 C: "워라밸 박대리" (잠재 타겟)
- 34세, 판교 중견기업 과장, 기혼
- 출퇴근 시간 유동적, 가사/육아와 자기관리 병행 어려움
- 앱 여러 개(캘린더+메모+운동앱) 조합 사용 피로
- **핵심 니즈**: 하나의 앱에서 통합 관리, 현실적인 목표 설정

---

## 4. User Stories

### Epic 1: 온보딩
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-01 | 사용자로서, 최초 진입 시 3단계 온보딩(관심 카테고리 → 루틴 템플릿 → 알림 시간)으로 기본 루틴 풀을 빠르게 설정할 수 있다 | P0 |
| US-02 | 사용자로서, 카테고리별 추천 루틴 템플릿 중 선택하여 시작할 수 있다 | P0 |

### Epic 2: 인증
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-03 | 사용자로서, 카카오 또는 애플 소셜 로그인으로 간편하게 가입할 수 있다 | P0 |
| US-04 | 사용자로서, 이메일/비밀번호로 가입 및 로그인할 수 있다 | P0 |
| US-05 | 사용자로서, 로그인 상태가 유지되어 매번 로그인하지 않아도 된다 | P0 |

### Epic 3: 아침 컨디션 체크인
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-06 | 사용자로서, 아침에 30초 내에 오늘의 에너지(1-5), 수면 시간, 기분을 입력할 수 있다 | P0 |
| US-07 | 사용자로서, 체크인을 매일 아침 알림으로 받을 수 있다 | P0 |
| US-08 | 사용자로서, 체크인 시 어제의 수면 시간이 자동 추천되어 빠르게 입력할 수 있다 | P1 |

### Epic 4: 적응형 루틴 제안
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-09 | 사용자로서, 체크인 결과에 따라 오늘에 맞는 루틴 목록을 자동으로 받을 수 있다 | P0 |
| US-10 | 사용자로서, 나만의 루틴 풀(카테고리별 루틴 목록)을 등록하고 관리할 수 있다 | P0 |
| US-11 | 사용자로서, 제안된 루틴을 수동으로 추가/삭제/교체할 수 있다 | P0 |
| US-12 | 사용자로서, 루틴별 예상 소요 시간을 볼 수 있다 | P1 |
| US-13 | 사용자로서, 에너지가 낮은 날에는 짧고 쉬운 루틴이 제안되는 것을 확인할 수 있다 | P0 |

### Epic 5: 실행 및 기록
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-14 | 사용자로서, 각 루틴의 완료를 체크할 수 있다 | P0 |
| US-15 | 사용자로서, 저녁에 오늘의 달성률과 한줄 회고를 작성할 수 있다 | P0 |
| US-16 | 사용자로서, 루틴 타이머를 사용할 수 있다 | P2 |

### Epic 6: 인사이트 및 통계
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-17 | 사용자로서, 주간 컨디션-달성률 상관관계 리포트를 볼 수 있다 | P0 |
| US-18 | 사용자로서, "에너지 3 이상인 날 달성률 85%" 같은 개인화된 인사이트를 받을 수 있다 | P1 |
| US-19 | 사용자로서, 월간 컨디션 트렌드를 캘린더 뷰에서 확인할 수 있다 | P1 |
| US-20 | 사용자로서, 가장 잘 지키는 루틴과 자주 건너뛰는 루틴을 파악할 수 있다 | P1 |

### Epic 7: 설정
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-21 | 사용자로서, 아침 체크인 알림 시간과 저녁 회고 알림 시간을 설정할 수 있다 | P0 |
| US-22 | 사용자로서, 닉네임과 프로필을 편집할 수 있다 | P1 |
| US-23 | 사용자로서, 다크모드를 설정할 수 있다 | P1 |
| US-24 | 사용자로서, 회원 탈퇴하고 내 데이터를 삭제할 수 있다 | P0 |

### Epic 8: 결제
| ID | User Story | 우선순위 |
|----|-----------|---------|
| US-25 | 사용자로서, 프리미엄 구독을 인앱결제로 구매할 수 있다 | P0 |
| US-26 | 사용자로서, 구독 상태와 만료일을 확인할 수 있다 | P0 |
| US-27 | 사용자로서, 구독을 해지할 수 있다 | P0 |

---

## 5. Functional Requirements

### 5-1. MVP 기능 명세 (P0)

#### FR-01: 회원가입 및 인증

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-01 |
| 입력 | 카카오/애플 OAuth 토큰 또는 이메일+비밀번호 |
| 출력 | JWT 토큰 발급, 사용자 프로필 생성 |
| 인증 방식 | 소셜 로그인 (카카오, 애플) + 이메일 로그인 |
| 온보딩 | 3단계: 관심 카테고리 선택 → 루틴 템플릿 선택 → 알림 시간 설정 |
| 제한사항 | 이메일 중복 불가, 비밀번호 8자 이상 |
| 무료/유료 차이 | 없음 |

**수용 기준:**
- AC-01-1: 카카오 로그인 버튼 탭 시 카카오 OAuth 화면으로 전환되고, 인증 완료 후 3초 이내에 앱으로 복귀한다
- AC-01-2: 애플 로그인 버튼 탭 시 애플 Sign In 시트가 표시되고, 인증 완료 후 3초 이내에 앱으로 복귀한다
- AC-01-3: 이메일 가입 시 이메일 형식 검증 실패하면 "올바른 이메일 형식을 입력해주세요" 에러를 표시한다
- AC-01-4: 최초 로그인 후 온보딩 3단계가 순서대로 표시된다
- AC-01-5: 온보딩 완료 시 선택한 카테고리의 루틴 템플릿이 사용자 루틴 풀에 자동 등록된다
- AC-01-6: 로그인 성공 후 앱 종료/재시작 시 로그인 상태가 유지된다

#### FR-02: 아침 컨디션 체크인

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-02 |
| 입력 | 에너지 레벨(1-5 슬라이더), 수면 시간(시간 피커, 0.5h 단위), 오늘 기분(좋음/보통/나쁨 탭) |
| 출력 | check_ins 레코드 생성, 적응형 플랜 트리거 |
| 소요 시간 | 30초 이내 |
| 알림 | 설정한 시간에 푸시 알림 (기본 07:00) |
| 미입력 시 | 전날 평균 컨디션 자동 적용 (사용자에게 "어제 기준으로 플랜을 만들었어요" 고지) |
| 제한사항 | 하루 1회만 체크인 가능. 수정은 당일 내 가능 |
| 무료/유료 차이 | 없음 |

**수용 기준:**
- AC-02-1: 에너지 슬라이더를 1~5 사이에서 드래그하면 선택한 값이 실시간으로 표시된다
- AC-02-2: 수면 시간 피커는 0h~12h 범위를 0.5h 단위로 선택 가능하다
- AC-02-3: 기분 탭(좋음/보통/나쁨) 중 하나를 선택하면 시각적으로 선택 상태가 표시된다
- AC-02-4: 체크인 제출 시 1초 이내에 오늘의 적응형 플랜이 생성되어 화면에 표시된다
- AC-02-5: 동일 날짜에 이미 체크인한 경우, 수정 화면이 표시된다 (새 체크인 불가)
- AC-02-6: 설정된 아침 알림 시간에 푸시 알림이 발송된다
- AC-02-7: 오프라인 상태에서 체크인하면 로컬에 저장되고, 온라인 복구 시 서버에 동기화된다

#### FR-03: 루틴 풀 관리

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-03 |
| 입력 | 루틴명, 카테고리, 예상 소요 시간(분), 난이도(상/중/하) |
| 출력 | routines 레코드 CRUD |
| 카테고리 | 운동, 학습, 자기관리, 건강, 마음챙김 (기본 5개) |
| 무료 제한 | 최대 15개 루틴 등록 |
| 유료 | 무제한 루틴 + 커스텀 카테고리 추가 |
| 템플릿 | 카테고리별 추천 루틴 20개 사전 제공 |
| 제한사항 | 루틴명 50자 이내, 소요 시간 1~180분 |

**수용 기준:**
- AC-03-1: 루틴 추가 시 이름, 카테고리, 소요 시간, 난이도를 입력하면 루틴 풀에 즉시 추가된다
- AC-03-2: 무료 사용자가 15개 초과 루틴을 추가하려 하면 프리미엄 안내 모달이 표시된다
- AC-03-3: 루틴 삭제 시 확인 다이얼로그가 표시되고, 확인 후 루틴이 비활성화(soft delete)된다
- AC-03-4: 루틴 편집 시 변경 사항이 즉시 저장되고, 이후 플랜에 반영된다
- AC-03-5: 온보딩에서 선택한 템플릿 루틴이 사용자 루틴 풀에 올바르게 등록된다

#### FR-04: 적응형 루틴 제안 엔진

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-04 |
| 입력 | 오늘 체크인 데이터 + 사용자 루틴 풀 |
| 출력 | 오늘의 추천 루틴 리스트 (최대 5개) |
| 실행 위치 | 클라이언트 로컬 (서버 왕복 없음) |
| 로직 | 규칙 기반 (Rule-based) 매칭 |

**에너지별 규칙 매트릭스:**
| 에너지 레벨 | 허용 난이도 | 최대 총 시간 | 특별 규칙 |
|------------|-----------|------------|----------|
| 1 | low만 | 20분 | 마음챙김 1개 필수 |
| 2 | low만 | 30분 | — |
| 3 | low + mid | 60분 | — |
| 4 | low + mid + high | 90분 | — |
| 5 | low + mid + high | 120분 | — |

**보정 규칙:**
| 조건 | 보정 내용 |
|------|----------|
| 기분 'bad' | 마음챙김 카테고리 1개 추가 포함 |
| 수면 < 5h | 운동 카테고리 난이도 1단계 하향 (high→mid, mid→low) |
| 수면 < 4h | 에너지 레벨을 최대 2로 강제 캡 |

**선택 알고리즘:**
1. 필터링: 에너지 레벨에 따라 허용 난이도 이하의 활성 루틴만 필터
2. 수면 보정: 수면 부족 시 운동 카테고리 난이도 하향
3. 기분 보정: 기분 'bad' 시 마음챙김 루틴 1개 필수 선택
4. 시간 제한 내 선택: (a) 카테고리 다양성 우선 (같은 카테고리 최대 2개) (b) 최근 7일 달성률 높은 루틴 우선 (성공 경험 강화) (c) 시간 합계가 최대 총 시간 이내
5. 정렬: 난이도 낮은 순 (성취감 순서)
6. 폴백: 루틴 풀이 부족하면(0~1개) "루틴을 추가해보세요" 안내와 함께 추천 템플릿 표시

| 제한사항 | 수동 조정 시 시간/난이도 제한 해제 (사용자 자율) |
| 무료/유료 차이 | 없음 (엔진 로직 동일) |

**수용 기준:**
- AC-04-1: 에너지 1 체크인 시 난이도 'low' 루틴만 제안되고, 총 소요 시간이 20분 이내이다
- AC-04-2: 에너지 5 체크인 시 모든 난이도 루틴이 포함 가능하고, 총 소요 시간이 120분 이내이다
- AC-04-3: 기분 'bad' 체크인 시 마음챙김 카테고리 루틴이 1개 이상 포함된다
- AC-04-4: 수면 4시간 미만 입력 시 에너지 레벨이 2로 캡 되어 경량화된 플랜이 생성된다
- AC-04-5: 체크인 제출 후 1초 이내에 적응형 플랜이 화면에 표시된다 (로컬 실행)
- AC-04-6: 사용자가 추천 결과에서 루틴을 교체/추가/삭제할 수 있다
- AC-04-7: 활성 루틴이 1개 이하일 때 "루틴을 추가해보세요" 안내가 표시된다

#### FR-05: 루틴 실행 및 기록

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-05 |
| 입력 | 루틴 완료 탭, 한줄 회고 텍스트 |
| 출력 | plan_items.is_completed 업데이트, reflections 레코드 생성 |
| 체크 | 각 루틴 완료 시 탭으로 체크 |
| 달성률 | 완료 루틴 수 / 오늘 제안 루틴 수 × 100% |
| 저녁 회고 | 한줄 텍스트 입력 (200자 이내, 선택) |
| 회고 알림 | 설정한 시간에 푸시 알림 (기본 22:00) |
| 제한사항 | 과거 날짜 수정 불가 (당일만 체크/회고 가능) |
| 무료/유료 차이 | 없음 |

**수용 기준:**
- AC-05-1: 루틴 항목 탭 시 완료 체크 표시가 즉시 반영되고, 달성률이 자동 갱신된다
- AC-05-2: 완료된 루틴을 다시 탭하면 완료 상태가 해제된다
- AC-05-3: 저녁 회고 입력 후 저장 시 "수고했어요" 격려 메시지가 표시된다
- AC-05-4: 오프라인에서 루틴 완료 체크 시 로컬에 저장되고, 온라인 복구 시 동기화된다
- AC-05-5: 설정된 저녁 회고 알림 시간에 푸시 알림이 발송된다

#### FR-06: 주간 리포트

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-06 |
| 입력 | 7일간 check_ins + daily_plans 데이터 |
| 출력 | 주간 리포트 (평균 에너지/수면/달성률, 인사이트 문장) |
| 표시 데이터 | 7일간 에너지/수면/기분 추이 + 달성률 추이 |
| 인사이트 | 에너지-달성률 상관관계 문장 1개 (MVP: 단순 집계 기반) |
| 생성 주기 | 매주 월요일 자동 생성 (전주 데이터) |
| 접근 | 리포트 탭에서 과거 주간 리포트 열람 가능 |
| 제한사항 | 최소 3일 이상 체크인 데이터가 있어야 리포트 생성 |
| 무료/유료 차이 | 무료: 기본 집계. 유료: 상세 인사이트 + 루틴별 분석 |

**수용 기준:**
- AC-06-1: 매주 월요일에 전주(월~일)의 주간 리포트가 자동 생성된다
- AC-06-2: 리포트에 평균 에너지, 평균 수면, 평균 달성률이 수치로 표시된다
- AC-06-3: 에너지-달성률 상관관계 인사이트 문장이 1개 이상 생성된다
- AC-06-4: 체크인 데이터가 3일 미만이면 "데이터가 부족합니다" 메시지가 표시된다
- AC-06-5: 리포트 탭에서 과거 주간 리포트를 시간순 리스트로 열람할 수 있다

#### FR-07: 인앱결제 및 구독 관리

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-07 |
| 입력 | 앱스토어/플레이스토어 결제 |
| 출력 | 구독 상태 동기화 (is_premium, premium_expires_at) |
| 구독 상품 | 월 3,900원 / 연 29,900원 |
| 결제 연동 | RevenueCat SDK |
| 제한사항 | iOS 30% / Android 15% 수수료 적용 |

**수용 기준:**
- AC-07-1: 구독 구매 버튼 탭 시 앱스토어/플레이스토어 결제 시트가 표시된다
- AC-07-2: 결제 완료 후 5초 이내에 프리미엄 기능이 활성화된다
- AC-07-3: 설정에서 구독 상태(활성/만료)와 만료일이 표시된다
- AC-07-4: 구독 해지 시 앱스토어/플레이스토어 구독 관리 화면으로 이동한다
- AC-07-5: 구독 만료 후 프리미엄 기능이 비활성화되고, 기존 데이터는 유지된다 (루틴 15개 초과분은 읽기만 가능)

#### FR-08: 회원 탈퇴

| 항목 | 명세 |
|------|------|
| 기능 ID | FR-08 |
| 입력 | 탈퇴 확인 (비밀번호 또는 소셜 재인증) |
| 출력 | 사용자 데이터 30일 후 완전 삭제 예약 |
| 제한사항 | 활성 구독이 있으면 구독 해지 안내 후 탈퇴 진행 |

**수용 기준:**
- AC-08-1: 회원 탈퇴 버튼 탭 시 "모든 데이터가 30일 후 삭제됩니다" 경고가 표시된다
- AC-08-2: 탈퇴 확인 후 즉시 로그아웃되고, 30일 내 데이터 삭제가 예약된다
- AC-08-3: 활성 구독이 있으면 구독 해지를 먼저 안내하는 화면이 표시된다

### 5-2. Post-MVP 기능 (P1~P2)

| 우선순위 | 기능 | 설명 |
|---------|------|------|
| P1 | AI 개인화 인사이트 | 누적 데이터 기반 고급 패턴 분석 (유료 전용) |
| P1 | 월간 트렌드 분석 | 캘린더 뷰 + 월간 통계 (유료 전용) |
| P1 | 루틴 추천 고도화 | 과거 달성 패턴 학습으로 추천 정확도 향상 |
| P1 | 3일차 미니 인사이트 | 신규 사용자 Early Win — 3일 데이터로 미니 인사이트 제공 |
| P2 | 루틴 타이머 | 포모도로/일반 타이머 |
| P2 | 셀프케어 콘텐츠 | 카테고리별 가이드 콘텐츠 (유료 전용) |
| P2 | SNS 공유 | "오늘의 컨디션 체크" 결과 이미지 공유 |
| P2 | 위젯 | iOS/Android 홈 화면 위젯 |
| P2 | 데이터 내보내기 | CSV/JSON 형식 데이터 다운로드 (유료 전용) |

---

## 6. Non-Functional Requirements

### 6-1. 성능
| 항목 | 기준 |
|------|------|
| 체크인 → 루틴 제안 응답 | 1초 이내 (로컬 실행) |
| 앱 초기 로딩 | 3초 이내 (콜드 스타트) |
| API 응답 시간 | 2초 이내 (서버 요청) |
| 오프라인 지원 | 체크인, 루틴 체크, 엔진 실행은 오프라인 가능. 동기화는 온라인 시 수행 |
| 동시 접속 | 초기 1만 DAU 기준 설계 |

### 6-2. 보안
| 항목 | 기준 |
|------|------|
| 인증 | Supabase Auth (JWT 토큰 기반) |
| 데이터 격리 | Supabase RLS (Row Level Security) 전 테이블 적용 |
| 통신 | HTTPS/TLS 1.3 필수 |
| 개인정보 | 최소 수집 원칙, 한국 개인정보보호법 준수 |
| 데이터 삭제 | 회원 탈퇴 시 30일 내 완전 삭제 |
| 비밀번호 | 최소 8자, Supabase Auth bcrypt 해시 |

### 6-3. 접근성
| 항목 | 기준 |
|------|------|
| 플랫폼 | iOS 15+ / Android 10+ |
| 언어 | 한국어 (MVP), 영어 (Post-MVP) |
| 다크모드 | MVP에서 지원 (시스템 설정 연동) |
| 폰트 크기 | 시스템 접근성 설정 연동 |

### 6-4. 오류 처리
| 시나리오 | 처리 방식 |
|---------|----------|
| 네트워크 오류 (API 호출) | 3회 재시도 후 실패 시 "인터넷 연결을 확인해주세요" 토스트 표시 |
| 결제 실패 | "결제에 실패했습니다. 다시 시도해주세요" 알림 + 결제 상태 변경 없음 |
| 데이터 유효성 오류 | 입력 필드별 인라인 에러 메시지 표시 |
| 서버 장애 | 오프라인 모드로 전환, 로컬 데이터로 핵심 기능 동작 |
| 토큰 만료 | 자동 리프레시 시도 → 실패 시 로그인 화면으로 이동 |

---

## 7. Technical Architecture

> **상세 기술 설계 문서**: `ideas/001-데일리셀프-technical-architecture.md`
>
> 본 섹션은 기술 아키텍처의 핵심 내용을 요약한다. 전체 CREATE TABLE SQL, RLS 정책 SQL, DB Function 본문, TypeScript 인터페이스 등 상세 내용은 위 기술 설계 문서를 참조한다.

### 7-1. 기술 스택

| 레이어 | 기술 | 선정 사유 |
|--------|------|----------|
| 프론트엔드 | React Native + TypeScript (Expo Managed) | 크로스플랫폼, 1인 개발 최적 |
| 네비게이션 | React Navigation v7 | Static API 타입 안전성 |
| UI | React Native Paper v5 | Material Design 3, 다크모드 내장 |
| 상태 관리 | Zustand v5 | 경량(1.1kB), 보일러플레이트 최소 |
| 로컬 KV | react-native-mmkv v3 | JSI 동기 읽기, 토큰/설정/동기화 큐 |
| 로컬 DB | @op-engineering/op-sqlite v9 | 오프라인 캐시, SQL 집계 가능 |
| 백엔드 | Supabase (PostgreSQL + Auth + Edge Functions) | BaaS 올인원, 서버 운영 불필요 |
| 결제 | RevenueCat v8 | iOS/Android 구독 통합 관리 |
| 푸시 알림 | Expo Notifications | Expo 생태계 통합, 무료 |
| 분석 | PostHog Cloud Free | 월 100만 이벤트 무료 |
| 차트 | react-native-gifted-charts | SVG 기반, 리포트 차트 |
| 빌드 | EAS Build + EAS Submit | Expo 공식 빌드/배포 |

### 7-2. 시스템 구조도

```
┌──────────────────────────────────────────────────────┐
│                React Native App (Expo)                │
│                                                       │
│  Presentation ─── React Navigation v7                │
│       │                                               │
│  Business Logic                                       │
│  ├── Adaptive Engine (순수 TS, 로컬 실행)              │
│  └── Zustand Stores (7개)                             │
│       │                                               │
│  Data Layer                                           │
│  ├── Supabase Client (Auth, REST, RPC)               │
│  ├── op-sqlite (오프라인 캐시)                         │
│  ├── MMKV (토큰, 설정, 동기화 큐)                      │
│  └── Sync Manager (큐, Server Wins, 지수 백오프)       │
└────────────────────┬─────────────────────────────────┘
                     │ HTTPS
┌────────────────────┴─────────────────────────────────┐
│                  Supabase Backend                      │
│  Auth (Kakao/Apple/Email) │ PostgreSQL+RLS+pg_cron    │
│  Edge Functions (구독 웹훅, 탈퇴, 푸시 토큰)            │
└────────────────────┬─────────────────────────────────┘
                     │
┌────────────────────┴─────────────────────────────────┐
│  External: RevenueCat │ Expo Push │ PostHog           │
└──────────────────────────────────────────────────────┘
```

### 7-3. 오프라인 우선 설계

**저장소 역할 분담:**
- **MMKV**: JWT 토큰, 알림 설정, 테마, 동기화 큐 메타데이터
- **op-sqlite**: 오늘 체크인/플랜/플랜항목, 루틴 풀 로컬 캐시 (SQL 집계 가능)
- **Supabase**: 영구 저장소, Source of Truth

**동기화 전략:**
- 동기화 트리거: 포그라운드 복귀, offline→online 전환, 온라인 쓰기 시 즉시
- 재시도: 지수 백오프 (1→2→4→8→16초), 최대 5회
- 충돌 해결: Server Wins (서버 데이터 우선)

**오프라인 지원 범위:**
- 오프라인 가능: 체크인, 엔진 실행, 루틴 완료 체크, 회고 입력, 루틴 풀 조회
- 온라인 필수: 로그인, 루틴 추가/편집, 주간 리포트, 구독 관리

### 7-4. 핵심 설계 원칙

1. **로컬 퍼스트**: 적응형 엔진 클라이언트 실행, 핵심 기능 서버 무관 동작
2. **서버리스**: Supabase BaaS + Edge Functions, 별도 서버 운영 제거
3. **최소 외부 의존**: 핵심 로직에 외부 AI API 미사용, 비용 0원
4. **점진적 복잡성**: MVP는 규칙 기반 + 단순 집계, P1에서 학습/AI 추가
5. **프라이버시 우선**: RLS 전 테이블, 최소 수집, 30일 내 완전 삭제

### 7-5. DB 스키마 (요약)

**8개 테이블**: users, routine_categories, routines, check_ins, daily_plans, plan_items, reflections, weekly_reports

- routines: `deleted_at` soft delete 적용
- routine_categories: `user_id NULL`이면 시스템 카테고리 (전체 읽기 허용)
- check_ins: `(user_id, date)` UNIQUE — 하루 1회 체크인 보장
- weekly_reports: RPC로만 생성 (사용자는 읽기만)

**핵심 DB Function (3개):**
- `generate_weekly_report`: 주간 평균 집계 + 에너지-달성률 인사이트 생성
- `get_dashboard_stats`: 연속 체크인, 주간 달성률, 최다 완료 루틴
- `delete_user_data`: FK 역순 전체 삭제

**pg_cron 스케줄 (2개):**
- 매주 월요일 01:00 KST: 전체 사용자 주간 리포트 생성
- 매일 03:00 KST: 탈퇴 30일 경과 사용자 데이터 삭제

> CREATE TABLE SQL, RLS SQL, Function SQL 본문은 `ideas/001-데일리셀프-technical-architecture.md` 참조

### 7-6. API 설계 (요약)

**Supabase REST**: routines, check_ins, daily_plans, plan_items, reflections 등 단순 CRUD
**RPC (2개)**: `generate_weekly_report`, `get_dashboard_stats`
**Edge Functions (3개)**: `process-subscription` (RevenueCat 웹훅), `delete-user-account` (탈퇴), `register-push-token` (푸시)

> TypeScript 인터페이스, Edge Function 비즈니스 로직 상세는 기술 설계 문서 참조

### 7-7. 상태 관리 구조

| Store | 역할 | 지속성 |
|-------|------|--------|
| useAuthStore | 인증, 프로필 | MMKV + Supabase Auth |
| useTodayStore | 오늘 체크인/플랜/실행 | op-sqlite |
| useRoutineStore | 루틴 풀, 카테고리 | op-sqlite |
| useReportStore | 주간 리포트, 대시보드 | 서버 Pull |
| useSubscriptionStore | 구독 상태 | RevenueCat SDK |
| useSettingsStore | 알림, 테마 | MMKV |
| useSyncStore | 동기화 큐, 네트워크 | MMKV |

### 7-8. 기능-테이블-API 매핑표

| P0 기능 | 테이블 | API 방식 |
|---------|--------|----------|
| FR-01 인증/온보딩 | users, routine_categories, routines | Supabase Auth + REST |
| FR-02 체크인 | check_ins | REST INSERT/UPDATE |
| FR-03 루틴풀 | routines, routine_categories | REST CRUD |
| FR-04 엔진/플랜 | daily_plans, plan_items | 엔진: 로컬 TS, 저장: REST |
| FR-05 실행/회고 | plan_items, reflections, daily_plans | REST UPDATE/INSERT |
| FR-06 리포트 | weekly_reports | REST SELECT + RPC |
| FR-07 결제 | users | Edge Function (웹훅) |
| FR-08 탈퇴 | 전체 | Edge Function + pg_cron |

### 7-9. 자체 점검 결과

| # | 점검 항목 | 결과 |
|---|----------|------|
| 1 | 모든 P0 기능에 AC-XX-X 수용 기준 존재 | 충족 (FR-01~FR-08, AC-01-1 ~ AC-08-3) |
| 2 | P0 기능별 DB 테이블/API 매핑표 존재 | 충족 (섹션 7-8) |
| 3 | DB FK 관계가 데이터 흐름과 일치 | 충족 |
| 4 | API가 P0 수용 기준 충족 가능 | 충족 |
| 5 | 핵심 API TypeScript 인터페이스 존재 | 충족 (기술 설계 문서) |
| 6 | 핵심 DB Function SQL 본문 완성 | 충족 (3개 함수 + pg_cron) |
| 7 | 오프라인 저장소/동기화/충돌 해결 명시 | 충족 (섹션 7-3) |
| 8 | 네비게이션 구조 트리 + 핵심 화면 UI | 충족 (섹션 8) |
| 9 | User Story가 모든 기능 영역 커버 | 충족 (8 Epic, 27 Story) |

---

## 8. Screen Map & UI 명세

### 8-1. 네비게이션 구조 트리

```
App (Root)
├── Auth Stack (미인증)
│   ├── WelcomeScreen — 앱 소개 + 로그인 버튼
│   ├── LoginScreen — 카카오/애플/이메일 로그인
│   ├── SignUpScreen — 이메일 회원가입
│   └── OnboardingFlow
│       ├── Step1_CategoryScreen — 관심 카테고리 선택 (복수)
│       ├── Step2_TemplateScreen — 카테고리별 루틴 템플릿 선택
│       └── Step3_AlarmScreen — 아침/저녁 알림 시간 설정
│
└── Main Tab Navigator (인증 완료)
    ├── Tab 1: HomeScreen (홈/오늘)
    │   ├── [체크인 전] CheckInCard
    │   ├── [체크인 후] TodayPlanList
    │   └── [모달] ReflectionModal — 저녁 회고
    │
    ├── Tab 2: RoutineScreen (루틴 관리)
    │   ├── RoutineListView — 카테고리별 루틴 풀
    │   ├── [모달] RoutineEditModal — 루틴 추가/편집
    │   └── [모달] RoutineReplaceModal — 플랜 내 루틴 교체
    │
    ├── Tab 3: ReportScreen (리포트)
    │   ├── WeeklyReportList — 주간 리포트 목록
    │   └── WeeklyReportDetail — 차트 + 인사이트
    │
    └── Tab 4: SettingsScreen (설정)
        ├── ProfileEditScreen — 닉네임/프로필
        ├── AlarmSettingsScreen — 알림 시간 변경
        ├── SubscriptionScreen — 구독 관리/구매
        ├── ThemeSettingsScreen — 다크모드
        ├── DataExportScreen — 데이터 내보내기 (P2)
        └── AccountDeleteScreen — 회원 탈퇴
```

### 8-2. 핵심 화면별 UI 구성

#### HomeScreen — 체크인 전

| 영역 | UI 구성 |
|------|---------|
| 상단 | "좋은 아침이에요, {닉네임}님" 인사말 + 연속 체크인 {N}일째 뱃지 |
| 중앙 | **체크인 카드**: 에너지 슬라이더(1~5, 이모지 피드백) + 수면 피커(시간 휠) + 기분 탭(좋음/보통/나쁨, 이모지 버튼) |
| 하단 | **"체크인하고 오늘의 루틴 받기"** CTA 버튼 (Paper Button primary) |
| 데이터 | `useTodayStore.todayCheckIn`, `useAuthStore.user.nickname` |
| API | 없음 (체크인 전 상태) |

#### HomeScreen — 체크인 후

| 영역 | UI 구성 |
|------|---------|
| 상단 | 오늘의 컨디션 요약 칩: "에너지 {N} · 수면 {N}h · {기분}" + 달성률 원형 프로그레스 |
| 중앙 | **오늘의 루틴 리스트**: 각 항목 = 체크박스 + 루틴명 + 소요시간 뱃지 + 난이도 색상 표시. 스와이프로 교체/삭제 |
| 하단 | "루틴 추가하기" 텍스트 버튼 + 달성률 프로그레스 바 |
| 데이터 | `useTodayStore.planItems`, `useTodayStore.completionRate` |
| API | `plan_items` UPDATE (완료 체크), `daily_plans` UPDATE (달성률) |

#### ReflectionModal (저녁 회고)

| 영역 | UI 구성 |
|------|---------|
| 상단 | 오늘 달성률 원형 차트 (큰 숫자 표시) |
| 중앙 | "오늘 하루 어떠셨나요?" + 한줄 회고 TextInput (200자) |
| 하단 | "저장하기" 버튼 → 저장 후 "수고했어요!" 격려 메시지 Snackbar |
| 데이터 | `useTodayStore.completionRate` |
| API | `reflections` INSERT |

#### RoutineScreen (루틴 관리)

| 영역 | UI 구성 |
|------|---------|
| 상단 | 카테고리 필터 칩 (운동/학습/자기관리/건강/마음챙김 + 전체) |
| 중앙 | 루틴 카드 리스트: 루틴명 + 소요시간 + 난이도 뱃지 + 활성/비활성 토글 |
| 하단 | FAB "루틴 추가" 버튼 |
| 데이터 | `useRoutineStore.routines`, `useRoutineStore.categories` |
| API | `routines` CRUD, `routine_categories` SELECT |

#### WeeklyReportDetail (주간 리포트 상세)

| 영역 | UI 구성 |
|------|---------|
| 상단 | "{M}월 {W}주차 리포트" 제목 + 평균 에너지/수면/달성률 요약 카드 3개 |
| 중앙 | 7일 바 차트 (에너지 vs 달성률 이중축) + 기분 이모지 캘린더 |
| 하단 | 인사이트 카드: "에너지가 높은 날 달성률이 {N}%..." 텍스트 |
| 데이터 | `useReportStore.weeklyReports[selected]` |
| API | `weekly_reports` SELECT |

#### SettingsScreen (설정)

| 영역 | UI 구성 |
|------|---------|
| 전체 | Paper List.Section으로 그룹화: 프로필, 알림, 구독, 앱 설정, 계정 |
| 프로필 | 닉네임 + 이메일 표시, 편집 화살표 |
| 알림 | 아침 알림 시간 + 저녁 알림 시간 (TimePicker 연동) |
| 구독 | 현재 상태 뱃지 (무료/프리미엄) + 만료일 + "업그레이드" 버튼 |
| 계정 | 로그아웃, 회원 탈퇴 (빨간색 텍스트) |
| 데이터 | `useAuthStore.user`, `useSettingsStore`, `useSubscriptionStore` |
| API | `users` UPDATE, Edge Function (탈퇴) |

#### OnboardingFlow

| 단계 | UI 구성 | 데이터/API |
|------|---------|-----------|
| Step 1: 카테고리 | 5개 카테고리 칩 (복수 선택), "관심 있는 분야를 골라주세요" | `routine_categories` SELECT |
| Step 2: 템플릿 | 선택된 카테고리별 추천 루틴 체크리스트, "시작할 루틴을 골라주세요" | `routines` INSERT (템플릿 복사) |
| Step 3: 알림 | 아침/저녁 TimePicker, "알림 시간을 설정해주세요" | `users` UPDATE, Push 권한 요청 |

---

## 9. Competitive Differentiation

> 상세: `research/competitors/001-경쟁분석.md`

### 9-1. 경쟁 포지셔닝

```
         고정 루틴 ←──────────────────→ 적응형 루틴
              │                              │
  실행 도구 ─ 루티너리    마이루틴             │
              │                              │
              │    투두메이트                  │   [데일리셀프]
              │                              │   "컨디션 인식
              │         루빗                  │    적응형 루틴"
              │                              │
  동기부여 ─ 챌린저스                          │
              │                              │
```

### 9-2. 차별화 전략

| 차별점 | 데일리셀프 | 경쟁사 전체 |
|--------|-----------|-----------|
| 컨디션 기반 루틴 조절 | O (핵심) | X (0/5) |
| 아침 체크인 → 적응형 플랜 | O | X |
| 에너지-달성률 인사이트 | O | X |
| 실패하지 않는 구조 | O (난이도 자동 하향) | X (고정 or 실패 처리) |

### 9-3. 방어 전략

- **데이터 축적**: 에너지-달성률 상관관계 데이터가 쌓일수록 인사이트 품질 향상 → 사용자 이탈 비용 증가
- **빠른 실행**: 경쟁사가 기능을 카피하기 전 선점 + UX 최적화
- **한국 직장 문화 특화**: 야근/회식/유동적 퇴근에 맞춘 설계는 글로벌 앱이 모방하기 어려움

---

## 10. Monetization Strategy

### 10-1. 프리미엄 구독 모델

| 구분 | 무료 (Free) | 프리미엄 (Premium) |
|------|------------|-------------------|
| 가격 | 0원 | 월 3,900원 / 연 29,900원 |
| 루틴 등록 | 최대 15개 | 무제한 |
| 카테고리 | 기본 5개 | 커스텀 추가 가능 |
| 주간 리포트 | 기본 집계 | 상세 인사이트 + 루틴별 분석 |
| AI 개인화 인사이트 | X | O (P1) |
| 월간 트렌드 분석 | X | O (P1) |
| 데이터 내보내기 | X | O (P2) |

### 10-2. 가격 책정 근거

- 마이루틴: 월 3,900원 / 연 28,000원 → 동일 가격대, 시장 검증 완료
- 루티너리: 월 3,500원 / 연 25,000원 → 유사 범위
- MZ세대 월 자기관리 지출 의향: 평균 17.9만원 → 월 3,900원은 부담 없는 수준

### 10-3. 수익 전망

| 지표 | 1년차 | 2년차 |
|------|------|------|
| 총 사용자 | 5~10만 | 30~50만 |
| 유료 전환율 | 3% | 5% |
| 유료 사용자 | 1,500~3,000 | 15,000~25,000 |
| 연간 매출 | 0.5~1.5억 원 | 4.5~7.5억 원 |

---

## 11. Risk Matrix

### 11-1. 리스크 매트릭스

| 리스크 | 확률 | 영향 | 심각도 | 대응 방안 |
|--------|------|------|--------|----------|
| 경쟁사가 컨디션 적응 기능 추가 | 중 | 높음 | **높음** | 빠른 실행 + 데이터 축적 + UX 우위 확보 |
| 유료 전환율 3% 미달 | 높음 | 높음 | **높음** | AI 인사이트 가치 증명, B2B 기업 복지 채널 탐색 |
| 앱 이탈률 48% 이상 | 중 | 높음 | **높음** | "실패하지 않는 구조" 자체가 이탈 방지, 주간 리포트 재방문 유도 |
| 체크인 피로감 (매일 입력) | 중 | 중 | **중** | 30초 이내 UX, 미입력 시 자동 적용, 웨어러블 연동(Post-MVP) |
| "컨디션 적응형" 시장 교육 비용 | 중 | 중 | **중** | 온보딩 Before/After 시나리오, #갓생 공감 마케팅 |
| 단일 개발자 번아웃 | 중 | 중 | **중** | Phase별 집중, 스코프 크리프 방지, 주간 자체 회고 |
| 앱스토어 심사 지연/리젝 | 낮음 | 중 | **낮음** | 가이드라인 사전 준수, 1~2주 여유 일정 |
| Supabase 서비스 장애 | 낮음 | 높음 | **중** | 로컬 퍼스트 아키텍처로 핵심 기능 오프라인 동작 |

### 11-2. 의존성 리스크

| 외부 의존성 | 리스크 | 대체 전략 |
|------------|--------|----------|
| Supabase | 서비스 종료/가격 인상 | 표준 PostgreSQL, 마이그레이션 용이 |
| RevenueCat | 정책 변경/수수료 인상 | react-native-iap로 대체 |
| Expo Push | 서비스 제한 | Firebase Cloud Messaging |
| 카카오 로그인 | 비즈앱 검수 지연, 정책 변경 | 애플/이메일 로그인 대안. 검수 2주 일정 확보 |

---

## 12. Assumptions & Constraints

### 12-1. 사업적 가정

| # | 가정 | 검증 근거 |
|---|------|----------|
| 1 | 한국 MZ세대 직장인은 유연한 루틴 관리에 니즈가 있다 | 야근 63%, 번아웃 69~93%, 루틴 보유 80% — 데이터 검증 |
| 2 | 30초 체크인이 매일 습관으로 정착 가능하다 | 기존 체크인 앱(하루콩 등) 사례, 30초 이내 UX 설계 |
| 3 | 월 3,900원 구독에 대한 지불 의향이 있다 | 마이루틴 동일 가격대 시장 존재, MZ세대 자기관리 17.9만원/월 |
| 4 | 유료 전환율 3%가 달성 가능하다 | 업계 평균 3~5%, 다만 챌린저스 피봇 사례는 리스크 시사 |

### 12-2. 기술 제약

| # | 제약 | 영향 |
|---|------|------|
| 1 | Expo Managed Workflow | 카카오 SDK 네이티브 연동 불가 → WebBrowser OAuth 방식 사용 |
| 2 | 1인 개발 | 기능 범위 MVP로 제한, 복잡한 아키텍처 배제 |
| 3 | Supabase Free/Pro 요금제 | 초기 무료 → DAU 1만 이상 시 Pro 필요 (월 $25) |
| 4 | 앱스토어 인앱결제 강제 | iOS 30% 수수료 적용, 실질 수익률 영향 |

### 12-3. 외부 의존성

- 카카오 비즈앱 등록 및 검수 (1~2주 소요) — 로드맵 Phase 1에 반영
- Apple Developer Program 연간 $99
- RevenueCat 무료 플랜: 월 매출 $2,500 이내

---

## 13. Out of Scope

MVP에서 **명시적으로 제외**하는 기능 및 영역:

| # | 제외 항목 | 제외 사유 | 도입 시기 |
|---|----------|----------|----------|
| 1 | AI/LLM 기반 개인화 코칭 | 외부 API 의존, 비용, 복잡성 | P1 (데이터 축적 후) |
| 2 | 소셜 기능 (친구, 그룹 챌린지) | 데일리셀프는 개인 관리 앱, 소셜은 차별점 아님 | 미정 |
| 3 | 웨어러블 연동 (Apple Watch, Galaxy Watch) | 개발 공수 과다, Expo Managed 제한 | P2 |
| 4 | 다국어 지원 (영어 등) | MVP는 한국 시장 집중 | Post-MVP |
| 5 | 루틴 타이머 | 핵심 가치와 무관, 우선순위 낮음 | P2 |
| 6 | 위젯 (홈 화면) | 추가 개발 공수, MVP 스코프 초과 | P2 |
| 7 | 데이터 내보내기 (CSV/JSON) | 유료 기능, MVP 후 추가 | P2 |
| 8 | 관리자 대시보드 (어드민 패널) | Supabase Studio로 대체 | 필요 시 |
| 9 | A/B 테스트 인프라 | PostHog Feature Flags로 단순 대체 | Post-MVP |
| 10 | 루틴 공유/커뮤니티 | 1인 개발 스코프 초과 | 미정 |

---

## 14. MVP Roadmap

### Phase 1: 기반 구축 (1~4주)

| 주차 | 작업 |
|------|------|
| 1주 | 프로젝트 셋업 (Expo + TS + Supabase), 디자인 시스템 정의 (Paper 테마), DB 스키마 생성 + RLS + 시드 데이터 |
| 2주 | 인증 구현 (카카오 WebBrowser OAuth + 애플 + 이메일), 적응형 엔진 순수 TS 모듈 개발 (UI 없이 단위 테스트) |
| 3주 | 온보딩 플로우 UI (3단계), 루틴 CRUD + 카테고리 UI |
| 4주 | 루틴 풀 UI 완성, RLS 검증, 기본 네비게이션 구조, 카카오 비즈앱 검수 제출 |

### Phase 2: 핵심 기능 (5~9주)

| 주차 | 작업 |
|------|------|
| 5주 | 아침 체크인 UI (슬라이더, 피커, 탭), 체크인 데이터 저장 (로컬 + 서버) |
| 6주 | 적응형 엔진 UI 통합, 오늘의 루틴 리스트 UI |
| 7주 | 루틴 완료 체크, 달성률 계산, 루틴 교체/추가/삭제 |
| 8주 | 저녁 회고 모달, 푸시 알림 (아침/저녁), 오프라인 동기화 큐 |
| 9주 | 오프라인 캐시 (op-sqlite), Sync Manager, 엣지 케이스 처리 |

### Phase 3: 인사이트 + 결제 (10~11주)

| 주차 | 작업 |
|------|------|
| 10주 | 주간 리포트 생성 로직 (DB Function + pg_cron), 리포트 UI + 차트 |
| 11주 | RevenueCat 인앱결제 연동, 프리미엄 기능 분기, 구독 관리 UI |

### Phase 4: QA + 출시 (12~13주)

| 주차 | 작업 |
|------|------|
| 12주 | 통합 QA, 버그 수정, 성능 최적화, 다크모드 검증 |
| 13주 | 앱스토어/플레이스토어 제출, 심사 대응, 랜딩 페이지, 론칭 |

> Phase 2를 5주로 확장하고 Phase 4에 1주 버퍼를 확보하여 총 13주. v1.0 리뷰의 "Phase 2 과부하 + 스토어 심사 버퍼 없음" 지적 반영.

---

## 15. Success Metrics

### 15-1. 핵심 지표

| 지표 | 정의 | MVP 목표 (출시 3개월) |
|------|------|---------------------|
| DAU | 일일 활성 사용자 | 3,000명 |
| 체크인 완료율 | 당일 체크인 완료 / DAU | 65% 이상 |
| D7 리텐션 | 설치 7일 후 재방문율 | 30% 이상 |
| D30 리텐션 | 설치 30일 후 재방문율 | 15% 이상 |
| 주간 루틴 달성률 | 주간 평균 (완료 루틴 / 제안 루틴) | 60% 이상 |
| 유료 전환율 | 유료 구독 / 전체 사용자 | 3% 이상 |
| MRR | 월간 반복 매출 | 100만 원 (3개월차) |

### 15-2. 북극성 지표 (North Star Metric)

**"주 5일 이상 체크인 사용자 비율"**

정의: 최근 7일간 5회 이상 아침 체크인을 완료한 사용자 / 해당 주 활성 사용자 수
목표: 출시 3개월 내 40%

사유: 체크인은 앱 가치 루프의 시작점. 체크인 없이는 적응형 루틴 제안이 불가하므로, 체크인 습관 정착이 전체 가치 체인의 선행 지표.

### 15-3. 가치 루프

```
아침 체크인 → 적응형 루틴 제안 → 달성 가능한 목표 수행 → 달성감
     ↑                                                    │
     └──── 다음 날 체크인 동기 ←─── 주간 인사이트 ←────────┘
```

### 15-4. 측정 방법

| 지표 | 측정 도구 | 이벤트 |
|------|----------|--------|
| DAU | PostHog | `app_opened` (일별 고유 사용자) |
| 체크인 완료율 | PostHog | `check_in_submitted` / DAU |
| D7/D30 리텐션 | PostHog Retention | 코호트 기반 자동 계산 |
| 달성률 | Supabase SQL | `AVG(daily_plans.completion_rate)` |
| 유료 전환율 | RevenueCat Dashboard | 자동 추적 |
| MRR | RevenueCat Dashboard | 자동 추적 |
| 북극성 지표 | Supabase SQL + PostHog | 주간 배치 쿼리 |

---

## 부록 A: 용어 정의

| 용어 | 정의 |
|------|------|
| 컨디션 체크인 | 매일 아침 에너지, 수면, 기분을 입력하는 행위 |
| 적응형 루틴 | 컨디션에 따라 난이도와 구성이 자동 조절되는 루틴 제안 |
| 루틴 풀 | 사용자가 등록한 모든 루틴의 집합 |
| 플랜 | 특정 날짜에 체크인 기반으로 생성된 루틴 조합 |
| 달성률 | 완료한 루틴 수 / 제안된 루틴 수 x 100% |
| 인사이트 | 누적 데이터 분석을 통해 도출된 개인화 패턴 정보 |
| 레디코어 | 2026 트렌드로, 체계적 자기관리를 추구하는 소비 트렌드 |

## 부록 B: 참조 문서

| 문서 | 위치 |
|------|------|
| 아이디어 원문 | `ideas/001-데일리셀프.md` |
| 기술 아키텍처 설계 (상세) | `ideas/001-데일리셀프-technical-architecture.md` |
| 경쟁 분석 | `research/competitors/001-경쟁분석.md` |
| 시장 분석 | `research/market-data/001-시장분석.md` |

---

> **다음 단계**: 4단계 PRD 정합성 판별 → `/stage-4 001-데일리셀프`
