# 002-마음날씨 PRD 정합성 판별 보고서

> **검증일**: 2026-01-31 (2차)
> **대상 문서**: `ideas/002-마음날씨-prd.md` (v2.0, 2026-01-31)
> **참조 문서**: `ideas/002-마음날씨.md`, `research/competitors/002-경쟁분석.md`, `research/market-data/002-시장분석.md`, `research/competitors/002-마음날씨-경쟁사-심층분석.md`
> **검증 방침**: 비판적 리뷰어 관점 — 통과 근거보다 결함 발견에 집중. "왜 실패할 수 있는지"를 먼저 탐색.

---

## 1차 리뷰 대비 변경 사항 확인

1차 리뷰(v1.0 PRD 기준)에서 Major 2건, Minor 3건이 지적되었다. v2.0 PRD에서의 해결 상태:

| # | 1차 지적 사항 | 심각도 | v2.0 해결 상태 |
|---|-------------|--------|--------------|
| 1 | 오프라인 우선 설계 및 장애 시나리오 명세 부재 | Major | **해결됨** — 7-3장 오프라인 우선 아키텍처 신규 추가. WatermelonDB + MMKV 저장소 분담, Sync Queue(지수 백오프 1s→2s→4s, 최대 3회 재시도), 충돌 해결 원칙(Server Wins + 미동기화 로컬 레코드 보존), 오프라인 시 "(오프라인 저장됨)" UI 표시 명시. |
| 2 | User Story 수용 기준(AC) 전체 부재 | Major | **해결됨** — 5장 Functional Requirements의 각 기능(F-01~F-09)에 구체적 수용 기준(AC) 추가. AC-01-1~AC-09-2까지 검증 가능한 기준 명시. |
| 3 | PDF 생성 Edge Function 기술 선택 미명시 | Minor | **미해결** — 여전히 `/functions/v1/export-pdf` 엔드포인트만 존재하며 PDF 생성 라이브러리 미명시. |
| 4 | 공유 카드 이미지 생성 기술 미명시 | Minor | **미해결** — `/functions/v1/share-card` 엔드포인트만 존재. P1 기능이므로 허용 가능. |
| 5 | 온보딩 상세 플로우 미흡 | Minor | **미해결** — F-04에서 3스텝 구성만 기술. PRD 수준에서 허용 가능. |

**결론**: Major 2건 모두 해결. Minor 3건은 미해결이나 PRD 수준에서 허용 가능한 범위.

---

## 1. 영역별 판정

### A. 사업성 검증 — **통과**

#### 시장 규모·경쟁분석 정합성: **통과**
- PRD의 TAM($61억), SAM(300~500만 명), SOM(MAU 3~5만) 수치가 2단계 시장분석(`002-시장분석.md`)과 **정확히 일치**한다.
- 경쟁사 분석(하루콩, 무디, 루빗, 라일리 하루, 데일리오, MOODA, 마인드카페, 트로스트, 마보)이 2단계 경쟁분석(`002-경쟁분석.md`, `002-마음날씨-경쟁사-심층분석.md`)과 **일관**된다.
- "기록 앱 ↔ 상담 앱 사이의 공백" 포지셔닝이 Problem Statement(2장)부터 Competitive Differentiation(8장)까지 일관 관통.

#### 차별점 방어 가능성: **통과** (약점 인지)
- 핵심 차별화 3요소(8-2장): 한국어 감정 어휘 체계, 감정 패턴 분석, 셀프케어 행동 제안 + 효과 추적.
- 2단계 경쟁분석의 차별점 방어 가능성 평가(한국어 어휘: 낮음, 패턴 분석: 중간, 완결 루프: 중간)와 PRD의 접근이 정합. 기술적 진입장벽이 낮음을 인정하면서 **데이터 축적**(개인화 피드백 데이터)을 방어선으로 설정.
- 라일리 하루 대비 차별화(8-3장)가 구체적으로 명시됨: "AI가 내 감정을 분석해준다" vs "내 감정 패턴을 알고, 행동으로 관리한다".
- 한국어 감정 어휘 자체는 모방 용이하나, 36종 분류 체계를 최초 정립하여 브랜드화하는 전략은 합리적.

#### 수익 모델: **통과**
- 월 3,500원 / 연 27,900원 가격이 시장 벤치마크(마보 3,300~3,900원/월, 루빗 ~53,000원/년)와 정합.
- 수익 전망 3개 시나리오가 보수적(MAU 5만, 유료 3%, 월 525만원)~낙관적(MAU 50만, 유료 5%, 월 8,750만원)으로 합리적 범위 설정.
- 앱스토어 수수료 미반영 주석 명시. 향후 캐릭터/테마 판매, 감정 유형 분석, B2B 등 수익 다각화 방안(9-4장) 제시.
- 무료/유료 가치 격차: 무료(기본 주간 요약 + 셀프케어 3개/일) vs 유료(상세 패턴 리포트 + 무제한 카드 + 개인화 + 내보내기)가 명확.

#### TAM/SAM/SOM 논리적 근거: **통과**
- TAM: OpenPR/HTF Market Intelligence 출처 명시 ($61억).
- SAM: 하루콩 200만 + 마인드카페 400만 + 기타(중복 제거) → 500만 / MZ세대 1,200만 × 이용률 65% → 800만. 도출 과정 명확.
- SOM: MOODA 수준 니치 앱으로 보수적 설정. 과도한 낙관 없음.

---

### B. 리스크 검증 — **통과**

#### 핵심 리스크 식별 및 대응: **통과**
PRD 10장에서 4개 리스크 카테고리를 체계적으로 분류:

- **사업 리스크** (10-1): 하루콩 AI 확장, 블루시그넘 생태계 완성, 유료 전환 실패, 기록 피로감 — 2단계 경쟁분석에서 식별된 리스크와 일치하며 대응 방안 구체적.
- **기술 리스크** (10-2): Supabase 장애(오프라인 우선으로 대응), RevenueCat 정책 변경(대안 존재), RN 성능(경량 앱), 앱스토어 심사(셀프케어 포지셔닝) — 각 대응이 현실적.
- **법률/규제** (10-3): 개인정보보호법(처리방침 고지, RLS), 의료기기 규제(셀프케어 포지셔닝, 면책 고지), IAP 수수료(15% 프로그램 적용) — 적절한 대응.
- **의존성 리스크** (10-4): Supabase, RevenueCat, Expo, 카카오 API — 각각 대안 전환 경로 명시.

#### 외부 API·플랫폼 의존성: **통과**
- MVP의 외부 의존 최소화 원칙 명확: AI/ML 불필요, SQL 집계 기반.
- Supabase → 표준 PostgreSQL 전환, RevenueCat → Adapty/Qonversion, 카카오 → Apple/이메일 병행.
- 앱스토어/플레이스토어 필수 의존은 대안 없음으로 솔직하게 명시.

---

### C. 기술 검증 — **통과**

#### 기술 스택 구현 가능성: **통과**
- React Native + TypeScript + Expo + Supabase 조합으로 모든 P0 기능 구현 가능.
- 기술 선택(7-1장)이 선택 이유와 함께 명시:
  - WatermelonDB(오프라인 우선, Observable 지원) + MMKV(초고속 KV) — 저장소 역할 분담이 명확.
  - Zustand + TanStack Query — 경량 전역 상태 + 서버 상태 캐싱.
  - Victory Native(차트), react-native-calendars(캘린더) — 성숙한 라이브러리.
  - RevenueCat(결제), Expo Push(알림), PostHog(분석), Sentry(크래시) — 검증된 서비스.

#### 1인 개발 규모 복잡성: **통과**
- Out of Scope(12장)에서 LLM, 멀티모달, 감정 유형, 위젯, 예측 알림, 상담 연결, B2B, 소셜, 다국어를 명확히 제외.
- MVP P0 기능 9개(F-01~F-09)로 범위 집중. P1(공유 카드) 1개는 출시 후 우선.

#### 3개월 MVP 범위 현실성: **통과**
- W1~W12 마일스톤(13-1장)이 논리적 순서: 셋업 → 인증/기록 → 캘린더/통계 → 셀프케어/리포트 → 결제/프리미엄 → QA/출시.
- 각 2주 단위 산출물이 구체적. 빠듯하지만 비현실적이지는 않음.

#### DB 스키마·API 설계 정합성: **통과**
- 7-5장 DB 스키마가 5장 기능 요구사항과 체계적으로 대응:
  - F-01(감정 태깅) → `emotion_records` + `emotion_record_emotions` + `emotion_record_activities` + RPC `create_emotion_record`
  - F-02(캘린더/통계) → `emotion_records` 조회 + RPC `get_weekly_summary`
  - F-03(셀프케어) → `selfcare_cards` + `selfcare_emotion_map` + `selfcare_feedback` + `daily_card_usage` + Edge Function `recommend-selfcare`
  - F-06(패턴 리포트) → Edge Functions + `report_cache`
  - F-09(구독) → `subscriptions` + RevenueCat Webhook
- 7-7장 기능-테이블-API 매핑표가 F-01~F-09 전체를 커버.
- 7-8장 자체 점검에서 P0 기능별 매핑, FK↔데이터 흐름, API→AC 충족 가능성을 확인.
- RLS 정책(7-5장)이 테이블별로 상세 정의. 마스터 데이터(감정, 활동, 셀프케어 카드)는 전체 읽기, 사용자 데이터는 본인만 접근.
- ERD 관계도가 명확하고 정규화 수준 적절.

#### 장애 시나리오 대응: **통과**
- 7-3장 오프라인 우선 아키텍처에서 구체적으로 명세:
  - WatermelonDB 즉시 로컬 저장(0~50ms) → Optimistic UI → Sync Queue(지수 백오프 1s→2s→4s, 최대 3회 재시도) → 네트워크 복구 시 배치 동기화.
  - 충돌 해결: CREATE(UUID, 충돌 없음), UPDATE(서버 타임스탬프 우선), DELETE(소프트 삭제 병합).
  - 핵심 원칙: "사용자의 감정 기록은 절대 유실하지 않는다".
  - 오프라인 시 "(오프라인 저장됨)" 표시.
- v1.0 대비 대폭 보강됨.

---

### D. 문서 품질 검증 — **통과**

#### 목표·기능·기술 명세 간 모순: **통과**
- Executive Summary(1장) "기록 → 분석 → 행동"이 Problem Statement(2장), Functional Requirements(5장), Competitive Differentiation(8장), Success Metrics(14장)에서 일관 관통.
- 기능 요구사항(5장)과 DB 스키마(7-5장), API(7-6장), 매핑표(7-7장)가 정합.
- 수익 모델(9장)과 구독 기능(F-09), 무료/유료 분할(AC-03-2, AC-06-1, AC-07-1)이 일치.

#### 누락된 핵심 섹션: **통과**
- 14개 본문 섹션 + 부록 2개로 포괄적 구성:
  1. Executive Summary, 2. Problem Statement, 3. Target Users & Personas, 4. User Stories, 5. Functional Requirements, 6. Non-Functional Requirements, 7. Technical Architecture (시스템 구조도, 오프라인 아키텍처, DB 스키마, API, 매핑표), 8. Competitive Differentiation, 9. Monetization Strategy, 10. Risk Matrix, 11. Assumptions & Constraints, 12. Out of Scope, 13. MVP Roadmap, 14. Success Metrics.
- PRD 필수 요소 모두 포함.

#### KPI 구체성·측정 가능성: **통과**
- 14장에서 3개 카테고리(핵심/비즈니스/제품)로 구분:
  - 핵심: MAU 30,000, DAU/MAU 30%+, 유료 전환율 3%+, D7 리텐션 40%+, D30 리텐션 20%+.
  - 비즈니스: MRR 525만원+, 무료체험→유료 30%+, 월간 갱신율 60%+, 평점 4.5+.
  - 제품: 평균 기록 시간 15초 이내, 셀프케어 "도움됨" 60%+, 주간 리포트 확인율 70%+.
- 각 지표에 측정 방법(PostHog, RevenueCat, Supabase, 인앱 설문) 명시.
- 벤치마크 근거: D7 리텐션 40%(건강앱 평균 20~30% 대비 도전적이나 합리적), 무료체험→유료 30%(건강&피트니스 중위 44.5% 대비 보수적).

#### 수용 기준(Acceptance Criteria): **통과**
- v2.0에서 5장 각 기능(F-01~F-09)에 구체적 AC 추가:
  - F-01: AC-01-1(1초 이내 응답), AC-01-2(활동 태그 0~N개), AC-01-3(200자 초과 차단), AC-01-4(recorded_at 수동 변경 가능).
  - F-02: AC-02-1(캘린더 아이콘/색상), AC-02-2(주간 요약 항목), AC-02-3(날짜 탭 시 리스트).
  - F-03: AC-03-1(감정 매핑 카드 표시), AC-03-2(무료 3개/프리미엄 무제한), AC-03-3(피드백 반영 정렬).
  - F-06: AC-06-1(프리미엄 전용), AC-06-2(주간 리포트 항목), AC-06-3(월간 리포트 항목).
  - F-09: AC-09-1(구독 즉시 반영), AC-09-2(만료 시 차단).
- v1.0에서 지적된 "AC 전체 부재" Major 결함이 해결됨.
- 단, User Stories(4장)는 여전히 AC가 스토리 자체에 내장되어 있지 않고 기능 명세(5장)에 분리되어 있으나, 기능별 AC가 충분히 구체적이고 검증 가능하므로 **통과** 판정.

---

## 2. 미달 목록

| # | 영역 | 미달 사항 | 심각도 | 유형 |
|---|------|----------|--------|------|
| 1 | C. 기술 | PDF 생성(F-08) Edge Function의 라이브러리/기술 접근법 미명시 | Minor | 문서 결함 |
| 2 | D. 문서 | 공유 카드 이미지 생성(F-10) 기술 접근법 미명시 | Minor | 문서 결함 |
| 3 | D. 문서 | 온보딩(F-04) 3스텝 각 화면 구성 상세 미흡 | Minor | 문서 결함 |

---

## 3. Minor 개선 권장 사항

### Minor #1: PDF 생성 기술 선택

- **대상**: F-08 (데이터 내보내기) / Edge Function `export-pdf`
- **현 상태**: 엔드포인트와 AC만 정의, 생성 방식 미명시.
- **권장**: Supabase Edge Functions(Deno 런타임)에서 사용 가능한 PDF 라이브러리(예: `pdf-lib`, `jsPDF` Deno 포팅, 또는 HTML→PDF 변환 서비스) 명시. 프리미엄 기능이므로 MVP 출시 후반(W9~W10) 구현이지만 기술 타당성 확인 차원에서 기술 접근법 한 줄 추가 권장.

### Minor #2: 공유 카드 이미지 생성

- **대상**: F-10 (감정 리포트 공유 카드) / Edge Function `share-card`
- **현 상태**: P1 기능으로 MVP 이후 구현 예정. 기능 명세는 있으나 이미지 생성 방식 미명시.
- **권장**: 클라이언트 사이드(react-native-view-shot 등) vs 서버 사이드(Edge Function에서 SVG→PNG) 접근법 간략 명시. P1이므로 긴급하지 않음.

### Minor #3: 온보딩 상세 플로우

- **대상**: F-04 온보딩 "3스텝: 감정 체계 안내 → 첫 감정 기록 → 알림 시간 설정"
- **현 상태**: 스텝 구성만 기술, 각 화면 상세 미흡.
- **권장**: 리텐션 목표(D7 40%+) 달성에 온보딩이 핵심이므로, 각 스텝의 목적과 완료 조건을 1~2줄씩 추가 권장. 단, PRD 수준에서 UI 와이어프레임까지는 불필요.

---

## 4. 최종 판정

### 판정: **통과** → 5단계 채택

| 판정 근거 | 내용 |
|----------|------|
| Critical 사항 | **없음** |
| Major 사항 | **없음** — 1차 리뷰 Major 2건 모두 v2.0에서 해결됨 |
| Minor 사항 | 3건 (PDF 기술, 공유 카드 기술, 온보딩 상세) — 모두 문서 결함, 개선 권장 |
| 아이디어 결함 | **없음** — 사업성, 차별점, 수익 모델, 기술 구현 모두 유효 |

1차 리뷰에서 지적된 Major 결함 2건(오프라인/장애 명세 부재, AC 부재)이 v2.0에서 **모두 해결**되었다. 특히:
- **오프라인 아키텍처**(7-3장)가 WatermelonDB/MMKV 저장소 분담, Sync Queue, 충돌 해결 전략까지 구체적으로 보강됨.
- **수용 기준**(5장 F-01~F-09)이 기능별로 검증 가능한 형태로 추가됨.
- **기능-테이블-API 매핑표**(7-7장)와 **자체 점검**(7-8장)이 추가되어 기술 명세의 정합성이 강화됨.

Minor 3건은 PRD 수준에서 허용 가능한 범위이며, 구현 단계에서 자연스럽게 결정되는 사항들이다.

### 전환 안내

> **5단계 채택**: `/stage-5 002-마음날씨 채택` 을 실행하세요.
>
> Minor 3건은 구현 단계에서 보완하면 됩니다.

---

## 부록: 검증 요약 매트릭스

| 검증 영역 | 판정 | 근거 요약 |
|----------|------|----------|
| **A. 사업성** | **통과** | TAM/SAM/SOM이 2단계 산출물과 일치, 차별점·수익 모델이 벤치마크 기반으로 설계, 시장 포지셔닝 일관성 |
| **B. 리스크** | **통과** | 4개 카테고리(사업/기술/법률/의존성) 체계적 식별, 대응 방안 구체적, 외부 의존 최소화 원칙 명확 |
| **C. 기술** | **통과** | RN+Supabase로 모든 기능 구현 가능, 오프라인 아키텍처 상세 명세, DB 스키마·API·매핑표 정합, 3개월 마일스톤 현실적 |
| **D. 문서 품질** | **통과** | 14개 섹션+부록 2개 포괄적 구성, 기능별 AC 구체적, KPI 측정 가능, 내부 모순 없음 |
